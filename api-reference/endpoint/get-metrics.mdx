---
title: 'Список показателей'
openapi: 'GET /api/metrics/'
---
Метод `GET /api/metrics` используется для получения списка всех показателей в системе Квант за указанный промежуток времени.

### Параметры запроса

Этот метод поддерживает следующие параметры запроса для фильтрации списка коммуникаций:

- `date_from` (date, optional) - Начальная дата промежутка.
- `date_to` (date, optional) - Конечная дата промежутка.
- `function_id` (number, optional) - Идентификатор функции пользователя для фильтрации показателей.
- `total_count` (number, required) - Общее количество показателей в списке, возвращаемое запросом.

```json
GET /api/metrics
{
  "start_date"?: "yyyy-MM-dd",
  "end_date"?: "yyyy-MM-dd",
  "function_id"?: number
}
```
### Пример запроса
```json
GET /api/metrics?date_from=2023-01-01&date_to=2023-01-31&function_id=3
```

### Успешный ответ
При успешном получении списка показателей сервер вернет HTTP статус 200 и список показателей в формате JSON.

```json
HTTP/1.1 200 OK
Content-Type: application/json

{
  "total_count": 5,
  "metrics": [
    {
      "id": 1,
      "name": "Продажи",
      "value": 100,
      "date": "2023-01-01",
      "function_id": 3
    },
    {
      "id": 2,
      "name": "Клиентская база",
      "value": 200,
      "date": "2023-01-01",
      "function_id": 3
    }
    // ... Другие показатели
  ]
}
```

### Ошибка
Если запрос не может быть обработан из-за неверных данных, возвращается ошибка с соответствующим описанием.

- 400 (Bad Request):
```json
{
  "error": "Ошибка в запросе",
  "message": "Неверные параметры запроса"
}
```

- 401 (Unauthorized):
```json
{
  "error": "Неавторизован",
  "message": "Необходима аутентификация"
}
```
- 403 (Forbidden):
```json
{
  "error": "Доступ запрещен",
  "message": "У вас нет доступа"
}
```
- 404 (Not Found):
```json
{
  "error": "Информация не найдена",
  "message": "Информация не найдена"
}
```
- 429 (Too Many Requests):
```json
{
  "error": "Слишком много запросов",
  "message": "Превышен лимит запросов"
}
```
- 500 (Internal Server Error):
```json
{
  "error": "Внутренняя ошибка сервера",
  "message": "Произошла ошибка на сервере при обработке вашего запроса. Пожалуйста, попробуйте еще раз позже или обратитесь в службу поддержки."
}
```