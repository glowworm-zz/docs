---
title: 'Список показателей'
openapi: 'GET /api/metrics/'
---
Метод `GET /api/metrics` используется для получения списка всех показателей в системе Квант за указанный промежуток времени.

### Параметры запроса

Этот метод поддерживает следующие параметры запроса для фильтрации списка коммуникаций:

- `start_date` (date, optional) - Начальная дата промежутка.
- `end_date` (date, optional) - Конечная дата промежутка.
- `function_id` (number, optional) - Идентификатор функции пользователя для фильтрации показателей.
- `total_count` (number, required) - Общее количество показателей в списке, возвращаемое запросом.

```typescript
// GET /api/metrics
interface Request { 
  start_date?: "yyyy-MM-dd"
  end_date?: "yyyy-MM-dd"
  function_id?: number
}
```

### Пример запроса

<CodeGroup>

```md Request
GET /api/metrics?start_date=2023-01-01&end_date=2023-01-31&function_id=3
```

```bash cURL
curl -X GET "https://kvant.app/api/metrics?start_date=2023-01-01&end_date=2023-01-31&function_id=3"
```

</CodeGroup>

### Успешный ответ
При успешном получении списка показателей сервер вернет HTTP статус 200 и список показателей в формате JSON.

```json
HTTP/1.1 200 OK
Content-Type: application/json

{
  "total_count": 5,
  "metrics": [
    {
      "id": 1,
      "name": "Продажи",
      "value": 100,
      "date": "2024-01-01",
      "function_id": 3
    },
    {
      "id": 2,
      "name": "Клиентская база",
      "value": 200,
      "date": "2024-01-01",
      "function_id": 3
    }
    // ... Другие показатели
  ]
}
```
### Описание элементов ответа

- `metrics` (array) - Массив объектов, каждый из которых представляет показатель.
- `id` (number) - Уникальный идентификатор показателя.
- `name` (string) - Название показателя.
- `value` (number) - Значение показателя.
- `date` (string) - Дата, за которую указан показатель, в формате "yyyy-MM-dd".

### Ошибка
Если запрос не может быть обработан из-за неверных данных, возвращается ошибка с соответствующим описанием.

- 400 (Bad Request):
```json
{
  "error": "Ошибка в запросе",
  "message": "Неверные параметры запроса. Проверьте правильность всех введенных данных"
}
```

- 401 (Unauthorized):
```json
{
  "error": "Неавторизован",
  "message": "Необходима аутентификация. Убедитесь, что вы предоставили правильный API-ключ в заголовке запроса."
}
```
- 403 (Forbidden):
```json
{
  "error": "Доступ запрещен",
  "message": "У вас нет доступа к показателям. Проверьте, что у вашего аккаунта есть соответствующие права доступа."
}
```
- 404 (Not Found):
```json
{
  "error": "Данные не найдены",
  "message": "Данные для указанных параметров не найдены. Убедитесь, что вы ввели корректные даты или идентификатор функции."
}
```
- Ошибка 429 (Too Many Requests):
```json
{
  "error": "Слишком много запросов",
  "message": "Превышен лимит запросов. Подождите некоторое время, прежде чем отправлять новый запрос."
}
```
- 500 (Internal Server Error):
```json
{
  "error": "Внутренняя ошибка сервера",
  "message": "Произошла ошибка на сервере при обработке вашего запроса. Пожалуйста, попробуйте еще раз позже или обратитесь в службу поддержки."
}
```