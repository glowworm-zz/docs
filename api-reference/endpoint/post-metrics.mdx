---
title: 'Обновление данных показателя'
openapi: 'POST /metrics/{id}'
---
Метод `POST /metrics/{id}` позволяет обновить данные конкретного показателя в системе Квант. Для выполнения этого запроса необходимо указать идентификатор показателя в URL запроса и предоставить обновленные данные в теле запроса.

### Параметры запроса

Для получения информации о задаче, необходимо указать идентификатор показателя в пути запроса:

- `id` (number, required) - Уникальный идентификатор показателя.
- `metric_id` (number, required) - Уникальный идентификатор метрики внутри показателя.
- `name` (string, optional) - Новое название показателя.
- `description` (string, optional) - Новое описание показателя.
- `value` (number, required) - Обновленное значение показателя.
- `date` (date, required) - Дата, за которую вносится обновление значения.

```typescript
// POST /metrics/{id}
interface Request { 
  metric_id: number,
  name?: string,
  description?: string,
  value: number,
  date: "yyyy-MM-dd"
}
```

### Пример запроса
<CodeGroup>

```md Request
{
  "metric_id": 1,
  "name": "Продажи за месяц",
  "value": 150,
  "date": "2024-01-01"
}
```

```bash cURL
curl -X POST "https://api.kvant.app/metrics/123" \
     -H "Content-Type: application/json" \
     -d '{
          "metric_id": 1,
          "name": "Продажи за месяц",
          "value": 150,
          "date": "2024-01-01"
         }'
```

</CodeGroup>

### Успешный ответ
При успешном обновлении показателя возвращается объект с информацией о показателе.

```json
HTTP/1.1 200 OK
Content-Type: application/json

{
  "id": 123,
  "metric_id": 1,
  "name": "Продажи за месяц",
  "description": "Общий объем продаж за месяц",
  "value": 150,
  "date": "2024-01-01",
  "updated_at": "2024-01-02T12:00:00Z"
}
```
### Описание элементов ответа

- `updated_at` (string) - Дата и время обновления показателя в формате ISO 8601.

### Ошибка
Если запрос не может быть обработан из-за неверных данных, возвращается ошибка с соответствующим описанием.

- 400 (Bad Request):
```json
{
  "error": "Ошибка в запросе",
  "message": "Неверные параметры запроса. Проверьте правильность всех введенных данных"
}
```

- 401 (Unauthorized):
```json
{
  "error": "Неавторизован",
  "message": "Необходима аутентификация. Убедитесь, что вы предоставили правильный API-ключ в заголовке запроса."
}
```
- 403 (Forbidden):
```json
{
  "error": "Доступ запрещен",
  "message": "У вас нет доступа к показателям. Проверьте, что у вашего аккаунта есть соответствующие права доступа."
}
```
- 404 (Not Found):
```json
{
  "error": "Данные не найдены",
  "message": "Данные для указанных параметров не найдены. Убедитесь, что вы ввели корректные даты или идентификатор функции."
}
```
- Ошибка 429 (Too Many Requests):
```json
{
  "error": "Слишком много запросов",
  "message": "Превышен лимит запросов. Подождите некоторое время, прежде чем отправлять новый запрос."
}
```
- 500 (Internal Server Error):
```json
{
  "error": "Внутренняя ошибка сервера",
  "message": "Произошла ошибка на сервере при обработке вашего запроса. Пожалуйста, попробуйте еще раз позже или обратитесь в службу поддержки."
}
```